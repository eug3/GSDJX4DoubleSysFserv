<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="GSDJX4DoubleSysFserv.Views.EPDReadingPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="EPD é˜…è¯»"
    BackgroundColor="#1a1a2e">

    <Grid RowDefinitions="Auto,*,Auto" Padding="15">
        
        <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
        <Frame Grid.Row="0" 
               BackgroundColor="#0f3460" 
               CornerRadius="8" 
               Padding="10"
               Margin="0,0,0,10">
            <StackLayout Spacing="5">
                <Label x:Name="ConnectionStatusLabel"
                       Text="è“ç‰™çŠ¶æ€: æœªè¿žæŽ¥"
                       TextColor="#888888"
                       FontSize="12" />
                <Label x:Name="PageInfoLabel"
                       Text="é¡µç : 0 | å­—ç¬¦: 0"
                       TextColor="#00d9ff"
                       FontSize="14"
                       FontAttributes="Bold" />
                <Label x:Name="StatusLabel"
                       Text="ç­‰å¾…æ“ä½œ"
                       TextColor="#00ff88"
                       FontSize="12" />
            </StackLayout>
        </Frame>

        <!-- æ–‡æœ¬å†…å®¹æ˜¾ç¤ºåŒºåŸŸ -->
        <Frame Grid.Row="1" 
               BackgroundColor="#0f3460" 
               CornerRadius="8"
               Padding="0">
            <Editor x:Name="ContentEditor"
                    BackgroundColor="#0f3460"
                    TextColor="#ffffff"
                    FontFamily="Courier New"
                    FontSize="14"
                    IsReadOnly="True"
                    Placeholder="æ–‡æœ¬å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º...&#10;&#10;ç‚¹å‡»ã€ŒèŽ·å–å½“å‰é¡µã€å¼€å§‹é˜…è¯»" />
        </Frame>

        <!-- åº•éƒ¨æŽ§åˆ¶æŒ‰é’® -->
        <StackLayout Grid.Row="2" 
                     Spacing="10" 
                     Margin="0,10,0,0">
            
            <!-- ç¿»é¡µæŽ§åˆ¶ -->
            <Grid ColumnDefinitions="*,*,*" ColumnSpacing="10">
                <Button Grid.Column="0"
                        x:Name="PrevChapterBtn"
                        Text="â¬…ï¸ ä¸Šä¸€ç« "
                        BackgroundColor="#16213e"
                        TextColor="#ffffff"
                        CornerRadius="5"
                        Clicked="OnPrevChapter" />
                <Button Grid.Column="1"
                        x:Name="CurrentPageBtn"
                        Text="ðŸ“– èŽ·å–å½“å‰é¡µ"
                        BackgroundColor="#07C160"
                        TextColor="#ffffff"
                        CornerRadius="5"
                        Clicked="OnGetCurrentPage" />
                <Button Grid.Column="2"
                        x:Name="NextChapterBtn"
                        Text="âž¡ï¸ ä¸‹ä¸€ç« "
                        BackgroundColor="#16213e"
                        TextColor="#ffffff"
                        CornerRadius="5"
                        Clicked="OnNextChapter" />
            </Grid>

            <!-- å‘é€åˆ°è®¾å¤‡æŒ‰é’® -->
            <Button x:Name="SendToDeviceBtn"
                    Text="ðŸ“¤ å‘é€åˆ° EPD è®¾å¤‡"
                    BackgroundColor="#00d9ff"
                    TextColor="#000000"
                    FontAttributes="Bold"
                    CornerRadius="5"
                    HeightRequest="50"
                    Clicked="OnSendToDevice" />

            <!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
            <ActivityIndicator x:Name="LoadingIndicator"
                               IsRunning="False"
                               IsVisible="False"
                               Color="#00d9ff"
                               HeightRequest="40" />
        </StackLayout>
    </Grid>
</ContentPage>
